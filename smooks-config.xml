<?xml version="1.0"?>
<smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd"
                      xmlns:core="http://www.milyn.org/xsd/smooks/smooks-core-1.4.xsd"
                      xmlns:jb="http://www.milyn.org/xsd/smooks/javabean-1.5.xsd">

    <jb:bean beanId="PurchaseOrder" class="com.acme.order.model.ChelanOrder" createOnElement="com.acme.order.model.PurchaseOrder">
        <jb:wiring beanIdRef="orderItem" property="items"/>
        <jb:wiring beanIdRef="orderRole" property="role"/>
        <jb:wiring beanIdRef="orderIdentification" property="identifications"/>
        <jb:value property="senderId" data="isa/senderId" />
<!--        <jb:expression property="internalOrderId" execOnElement="transactionSet/com.acme.order.model.TransactionSet/referenceIdentification/com.acme.order.model.ReferenceIdentification" >-->
<!--            com.acme.order.model.ReferenceIdentification.referenceIdentificationQualifier;-->
<!--        </jb:expression>-->
        <jb:value property="customerOrderId"
                  data="transactionSet/com.acme.order.model.TransactionSet/beginningSegmentForPO/purchaseOrderNumber" />
        <jb:value property="orderDate"
                  data="transactionSet/com.acme.order.model.TransactionSet/beginningSegmentForPO/date" />
        <jb:value property="purpose"
                  data="transactionSet/com.acme.order.model.TransactionSet/beginningSegmentForPO/transactionSetPurposeCode"
                  decoder="Enum">
            <jb:decodeParam name="enumType">com.acme.order.itrade.OrderPurpose</jb:decodeParam>
            <jb:decodeParam name="00">ORIGINAL</jb:decodeParam>
            <jb:decodeParam name="01">CANCELLATION</jb:decodeParam>
            <jb:decodeParam name="05">REPLACE</jb:decodeParam>
        </jb:value>
        <jb:value property="fobPaymentMethod"
                  data="transactionSet/com.acme.order.model.TransactionSet/freeOnBoard/com.acme.order.model.FreeOnBoard/shipmentMethodOfPayment"
                  decoder="Enum">
            <jb:decodeParam name="enumType">com.acme.order.itrade.FobPaymentMethod</jb:decodeParam>
            <jb:decodeParam name="PP">DELIVERED</jb:decodeParam>
            <jb:decodeParam name="PB">FOB</jb:decodeParam>
        </jb:value>
        <jb:value property="notes"
                  data="transactionSet/com.acme.order.model.TransactionSet/n9Loop/com.acme.order.model.N9Loop/messageText/com.acme.order.model.MessageText/freeFormMessageText"/>
    </jb:bean>

    <jb:bean beanId="orderItem" class="com.acme.order.itrade.ChelanOrderItem" createOnElement="transactionSet/com.acme.order.model.TransactionSet/po1Loop/com.acme.order.model.Po1Loop">
        <jb:value setterMethod="lineId" data="com.acme.order.model.Po1Loop/baseLineItemData/assignedIdentification" />
        <jb:value setterMethod="quantity" data="baseLineItemData/quantityOrdered" />
        <jb:value setterMethod="unitPrice" data="baseLineItemData/unitPrice" />
        <jb:value setterMethod="description" data="pidLoop/com.acme.order.model.PidLoop/productItemDescription/description" />
        <jb:value setterMethod="quantityUom"
                  data="baseLineItemData/unitOrBasisForMeasurementCode"
                  decoder="Enum">
            <jb:decodeParam name="enumType">com.acme.order.itrade.QuantityUom</jb:decodeParam>
            <jb:decodeParam name="CA">QTY_CASE</jb:decodeParam>
        </jb:value>
    </jb:bean>

    <jb:bean beanId="orderRole" class="com.acme.order.itrade.ChelanOrderParty"  createOnElement="transactionSet/com.acme.order.model.TransactionSet/N1Loop/com.acme.order.model.N1Loop">
        <jb:value property="role"
                  data="name/entityIdentifierCode"
                  decoder="Enum">
            <jb:decodeParam name="enumType">com.acme.order.itrade.OrderRole</jb:decodeParam>
            <jb:decodeParam name="BT">BILL_TO</jb:decodeParam>
            <jb:decodeParam name="BY">BUYER</jb:decodeParam>
            <jb:decodeParam name="ST">SHIP_TO</jb:decodeParam>
            <jb:decodeParam name="VN">VENDOR</jb:decodeParam>
        </jb:value>
        <jb:value setterMethod="name" data="name/name" />
        <jb:value setterMethod="nickName" data="additionalNameInformation/com.acme.order.model.AdditionalNameInformation/name" />
        <jb:value setterMethod="partyIdType" data="name/identificationCodeQualifier" />
        <jb:value setterMethod="idCode" data="name/identificationCode" />
        <jb:value setterMethod="address1" data="addressInformation/com.acme.order.model.AddressInformation/addressInformation1" />
        <jb:value setterMethod="address2" data="addressInformation/com.acme.order.model.AddressInformation/addressInformation2" />
        <jb:value setterMethod="city" data="geographicLocation/com.acme.order.model.GeographicLocation/cityName" />
        <jb:value setterMethod="stateProvinceCode" data="geographicLocation/com.acme.order.model.GeographicLocation/stateCode" />
        <jb:value setterMethod="postalCode" data="geographicLocation/com.acme.order.model.GeographicLocation/postalCode" />
        <jb:value setterMethod="countryCode" data="geographicLocation/com.acme.order.model.GeographicLocation/countryCode" />
<!--        <jb:value setterMethod="countryCode" data="adminCommunicationContact/communicationNumberQualifier/countryCode" />-->
        <jb:value setterMethod="contactMechType"
                  data="adminCommunicationContact/com.acme.order.model.AdminCommunicationContact/communicationNumberQualifier"
                  decoder="Enum">
            <jb:decodeParam name="enumType">com.acme.order.itrade.ContactMechType</jb:decodeParam>
            <jb:decodeParam name="TE">TELEPHONE</jb:decodeParam>
            <jb:decodeParam name="EA">EMAIL</jb:decodeParam>
        </jb:value>
    </jb:bean>
    <jb:bean beanId="orderIdentification" class="com.acme.order.itrade.ReferenceIdentification" createOnElement="transactionSet/com.acme.order.model.TransactionSet/referenceIdentification/com.acme.order.model.ReferenceIdentification">
        <jb:value setterMethod="setReferenceIdentificationQualifier" data="referenceIdentificationQualifier" />
        <jb:value setterMethod="setReferenceIdentificationCode" data="referenceIdentificationCode" />
    </jb:bean>



</smooks-resource-list>